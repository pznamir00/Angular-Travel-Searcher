<nb-card *ngIf="flights$ | async as flights">
  <nb-card-header>
    <h1 data-testId="flight-result-text">{{ flights.length }} Results</h1>

    <nb-progress-bar
      data-testId="progress-bar"
      [value]="(((loadedNum$ | async) ?? 0) / ((totalNum$ | async) ?? 0)) * 100"
      [status]="
        (loadedNum$ | async) === (totalNum$ | async) ? 'info' : 'success'
      "
      >Checked {{ loadedNum$ | async }} /
      {{ totalNum$ | async }}</nb-progress-bar
    >
  </nb-card-header>
  <nb-card-body>
    <app-result-card
      *ngFor="let flight of flights"
      [flight]="flight"
    ></app-result-card>
  </nb-card-body>
</nb-card>
